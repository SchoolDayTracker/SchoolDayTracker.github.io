<!DOCTYPE html>
<!--SchoolDayTracker created on 3/02/2024-->
<!--v0.1.0 released on 13/02/2024-->
<!--v1.0.0 released on 6/03/2024-->
<html lang="en">
    <head>
        <!--icon-->
        <link rel="icon" href="img/logo.ico" type="image/x-icon">
        <!--style sheet-->
        <link rel="stylesheet" type="text/css" href="style.css">
        <!--title-->
        <title>School Day Tracker</title>
    </head>
    <body>
        <!--Nav bar-->
        <a href="index.html"><button class=nobutton><img height="30" src="img/close.png"></button></a>
        <p>Remember to save</p>
        <!--color switching script-->
        <script>
            const colorlist = ['red','darkorange','yellow','green','blue','cyan','purple','pink','none'];
            const daylist = ['null','tahi','rua','toru','wha','rima','ono'];
            const numblist = ['null','1','2','3','4','5']
            let colornumb = 9;
            function colorswitch(color) {
                colornumb = color;
            }
            function colorset(a, b) {
                document.getElementById(daylist[a] + numblist[b]).style.backgroundColor = colorlist[colornumb];
            } 
        </script>
        <!--how the colours are saved-->
        <script>
            function save() {
                let cookiebaker
                const tahitoono = ["null","tahi","rua","toru","wha","rima","ono"];
                const onetosix = ["null","1","2","3","4","5","6"];
                let numb1 = 1;
                let numb2 = 1;
                for (let i = 0; i < 30; i++) {
                    cookiebaker = document.getElementById(tahitoono[numb1] + onetosix[numb2]).style.backgroundColor;
                    document.cookie = "c" + tahitoono[numb1] + onetosix[numb2] + "=" + cookiebaker + ";";
                    numb2++
                    if (numb2 == 6) {
                        numb2 = 1;
                        numb1++;
                        if (numb1 == 7) {
                            break;
                        }
                    }
                }
            }
        </script>
        <h3 class="center">Colors</h3>
        <!--this it the day text-->
        <h1 id="displayDay" class=center></h1>
        <!--color buttons-->
        
        <!--timetable starts-->
        <div class="center timetable">
            <!--days-->
            <div class="timetablecon center white">
                <div id="day1" class="tahi">
                    <p class=tahi>Tahi</p>
                </div>
                <div id="day2" class="rua">
                    <p class=rua>Rua</p>
                </div>
                <div id="day3" class="toru">
                    <p class=toru>Toru</p>
                </div>
                <div id="day4" class="wha">
                    <p class=wha>Whā</p>
                </div>
                <div id="day5" class="rima">
                    <p class=rima>Rima</p>
                </div>
                <div id="day6" class="ono">
                    <p class=ono>Ono</p>
                </div>
            </div>
            <!--Whānau time-->
            <div class="timetablecon center blue">
                <p class=period>Whānau</p>
                <div class=period>
                    <p class="pad3 period"></p>
                    <p class="period in">8:45am</p>
                </div>
            </div>
            <!--period 1-->
            <div class="timetablecon center white">
                <p class="period">period 1</p>
                <button id=tahi1 class="in colorbutton" onclick='colorset(1,1)' style="width: 63px"></button>
                <button id=rua1 class="in colorbutton" onclick='colorset(2,1)' style="width: 63px"></button>
                <button id=toru1 class="in colorbutton" onclick='colorset(3,1)' style="width: 63px"></button>
                <button id=wha1 class="in colorbutton" onclick='colorset(4,1)' style="width: 63px"></button>
                <button id=rima1 class="in colorbutton" onclick='colorset(5,1)' style="width: 63px"></button>
                <button id=ono1 class="in colorbutton" onclick='colorset(6,1)' style="width: 63px"></button>
                <p class="period in increse"></p>
                <p class="period in">9:00am</p>
            </div>
            <!--period 2-->
            <div class="timetablecon center white">
                <p class=period>period 2</p>
                <button id=tahi2 class="in colorbutton" onclick='colorset(1,2)' style="width: 63px"></button>
                <button id=rua2 class="in colorbutton" onclick='colorset(2,2)' style="width: 63px"></button>
                <button id=toru2 class="in colorbutton" onclick='colorset(3,2)' style="width: 63px"></button>
                <button id=wha2 class="in colorbutton" onclick='colorset(4,2)' style="width: 63px"></button>
                <button id=rima2 class="in colorbutton" onclick='colorset(5,2)' style="width: 63px"></button>
                <button id=ono2 class="in colorbutton" onclick='colorset(6,2)' style="width: 63px"></button>
                <p class="period in">10:05am</p>
            </div>
            <!--interval-->
            <div class="timetablecon center blue">
                <p class=period>interval</p>
                <div class=period>
                    <p class="pad period"></p>
                    <p class="period in">11:10am</p>
                </div>
            </div>
            <!--period 3-->
            <div class="timetablecon center white">
                <p class=period>period 3</p>
                <button id=tahi3 class="in colorbutton" onclick='colorset(1,3)' style="width: 63px"></button>
                <button id=rua3 class="in colorbutton" onclick='colorset(2,3)' style="width: 63px"></button>
                <button id=toru3 class="in colorbutton" onclick='colorset(3,3)' style="width: 63px"></button>
                <button id=wha3 class="in colorbutton" onclick='colorset(4,3)' style="width: 63px"></button>
                <button id=rima3 class="in colorbutton" onclick='colorset(5,3)' style="width: 63px"></button>
                <button id=ono3 class="in colorbutton" onclick='colorset(6,3)' style="width: 63px"></button>
                <p class="period in">11:30am</p>
            </div>
            <!--period 4-->
            <div class="timetablecon center white">
                <p class="period">period 4</p>
                <button id=tahi4 class="in colorbutton" onclick='colorset(1,4)' style="width: 63px"></button>
                <button id=rua4 class="in colorbutton" onclick='colorset(2,4)' style="width: 63px"></button>
                <button id=toru4 class="in colorbutton" onclick='colorset(3,4)' style="width: 63px"></button>
                <button id=wha4 class="in colorbutton" onclick='colorset(4,4)' style="width: 63px"></button>
                <button id=rima4 class="in colorbutton" onclick='colorset(5,4)' style="width: 63px"></button>
                <button id=ono4 class="in colorbutton" onclick='colorset(6,4)' style="width: 63px"></button>
                <p class="period in monepix">12:35pm</p>
            </div>
            <!--lunch-->
            <div class="timetablecon center blue">
                <p class=period>lunch</p>
                <p class="pad2 period"></p>
                <p class="period in increse"></p>
                <p class="period in">1:35pm</p>
            </div>
            <!--period 5-->
            <div class="timetablecon center white">
                <p class=period>period 5</p>
                <button id=tahi5 class="in colorbutton" onclick='colorset(1,5)' style="width: 63px"></button>
                <button id=rua5 class="in colorbutton" onclick='colorset(2,5)' style="width: 63px"></button>
                <button id=toru5 class="in colorbutton" onclick='colorset(3,5)' style="width: 63px"></button>
                <button id=wha5 class="in colorbutton" onclick='colorset(4,5)' style="width: 63px"></button>
                <button id=rima5 class="in colorbutton" onclick='colorset(5,5)' style="width: 63px"></button>
                <button id=ono5 class="in colorbutton" onclick='colorset(6,5)' style="width: 63px"></button>
                <p class="period in increse"></p>
                <p class="period in">2:10pm</p>
            </div>
            <!--save button-->
            <div class="center savebutton">
                <button id="save" type="button" onclick="save()">save</button>
            </div>
            <div class="center colorbuttons">
                <button class="halfbutton" onclick="colorswitch(0)"><img class=center src="img/red.png" alt="red"></button>
                <button class="halfbutton" onclick="colorswitch(1)"><img class=center src="img/orange.png" alt="orange"></button>
                <button class="halfbutton" onclick="colorswitch(2)"><img class=center src="img/yellow.png" alt="yellow"></button>
                <button class="halfbutton" onclick="colorswitch(3)"><img class=center src="img/green.png" alt="green"></button>
                <button class="halfbutton" onclick="colorswitch(4)"><img class=center src="img/blue.png" alt="blue"></button>
                <button class="halfbutton" onclick="colorswitch(5)"><img class=center src="img/cyan.png" alt="cyan"></button>
                <button class="halfbutton" onclick="colorswitch(6)"><img class=center src="img/purple.png" alt="purple"></button>
                <button class="halfbutton" onclick="colorswitch(7)"><img class=center src="img/pink.png" alt="pink"></button>
                <button class="halfbutton" onclick="colorswitch(7)"><img class=center src="img/none.png" alt="blank"></button>
            </div>
        </div>
        <!--timetable ends-->
        <!--Github link-->
        <a href="https://github.com/SchoolDayTracker/SchoolDayTracker.github.io" target="_blank" class="bottomleft bluetext">Report bugs to the Github</a>
        <!--day cycleing script-->
        <script>
            const days = ["null", "Tahi", "Rua", "Toru", "Whā", "Rima", "Ono", "null"];
            var old = new Date("2024-02-11 00:00")
            var today = new Date();
            var daysago = (Math.floor((today - old) / 1000 / 60 / 60 / 24 ));
            let weekends = (Math.floor(daysago / 7));
            let numb = 1;
            let a = 1;
            while (a == 1) {
                if (weekends == 0){
                    break;
                }
                weekends = weekends - 1;
                daysago = daysago - 2;
            }
            daysago = daysago - 0; // ____CHANGE THIS ON HOLLADAYS____
            numb = numb - 1;
            for (let i = 0; i < daysago; i++) {
                numb = numb + 1;
                if (numb == 7) {
                    numb = 1;
                }
            }
            let day = days[numb];
            const plus = document.getElementById('plus');
            const mins = document.getElementById('mins');
            const h1 = document.getElementById('displayDay');
            h1.innerHTML = '<h1>'+day+'</h1>';
            // highlighting the day
            if (day == "Tahi") {
                let day1 = document.getElementById("day1");
                day1.classList = "tahi yellow"
            }
            else if (day == "Rua") {
                let day2 = document.getElementById("day2");
                day2.classList = "rua yellow"
            }
            else if (day == "Toru") {
                let day3 = document.getElementById("day3");
                day3.classList = "toru yellow"
            }
            else if (day == "Whā") {
                let day4 = document.getElementById("day4");
                day4.classList = "wha yellow"
            }
            else if (day == "Rima") {
                let day5 = document.getElementById("day5");
                day5.classList = "rima yellow"
            }
            else if (day == "Ono") {
                let day6 = document.getElementById("day6");
                day6.classList = "ono yellow"
            }
        </script>
        <!--load timetable script-->
        <script>
            let cookies = document.cookie.split(';');
            let number = 0;
            for (let i = 0; i < 60; i++) {
                let [name, value] = cookies[number].split('=');
                name = name.replace(' ','')
                let namelist = name.split('');
                if (namelist[0] == 'c') {
                    name = name.replace('c','')
                    document.getElementById(name).style.backgroundColor = value;
                }
                else {
                    document.getElementById(name).innerHTML = value;
                }
                number++
            }
        </script>
    </body>
</html>